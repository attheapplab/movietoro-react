(()=>{"use strict";const t=(t,e)=>fetch(t,e).then((t=>function(t){if(!t.ok)throw t.status;return t}(t))).then((t=>function(t){const e=t.status,n=t.headers.get("content-type");return 200!==e?t.status:200===e&&n&&n.includes("application/json")?t.json():t}(t)));let e,n;"localhost"===window.location.hostname||"192.168."===window.location.hostname.substring(0,8)?(e=window.location.hostname,n=window.location.protocol):(e="movietoro.herokuapp.com",n="https:");const o=new URL(n+"//"+e);function r(t,e,n,r){this.init={body:r,credentials:"include",method:t},this.resource=e,this.url=o,this.url.search=n}function a(t){this.name=t}r.prototype.all=function(){return this.url.pathname=this.resource,t(this.url,this.init)},r.prototype.one=function(e){return this.url.pathname=this.resource+"/"+e,t(this.url,this.init)},a.prototype.delete=function(t){const e=t?new URLSearchParams(t).toString():"";return new r("DELETE",this.name,e)},a.prototype.get=function(t){const e=t?new URLSearchParams(t).toString():"";return new r("GET",this.name,e)},a.prototype.patch=function(t){const e=t?JSON.stringify(t):null;return new r("PATCH",this.name,"",e)},a.prototype.post=function(t){const e=t?JSON.stringify(t):null;return new r("POST",this.name,"",e)},a.prototype.put=function(t){const e=t?JSON.stringify(t):null;return new r("PUT",this.name,"",e)};const c=function(t){const[e,n]=React.useState("");return React.createElement("div",null,React.createElement("p",null,"Who are you?"),React.createElement("input",{onChange:t=>{const e=t.target.value.replace(/[^_a-z0-9]/g,"");n(e)},placeholder:"username",type:"text",value:e}),React.createElement("div",null,React.createElement("button",{onClick:()=>{(()=>{const n={username:e};new a("logup").post(n).all().then((n=>{console.log("Post logup",n),localStorage.setItem("username",e),t.onLogup()})).catch((t=>{}))})()},type:"button"},"Remember Me")))},l=function(){return React.createElement("nav",null,React.createElement("a",{href:"/"},"Home")," | ",React.createElement("a",{href:"/profile"}," Profile"))};function s(){const[t,e]=React.useState(!1);React.useEffect((()=>{n()}),[]);const n=()=>{const t=!!localStorage.getItem("username");e(t)};return React.createElement(React.Fragment,null,React.createElement(l,null),React.createElement("hr",null),t?"Hello, "+localStorage.getItem("username"):React.createElement(c,{onLogup:()=>{n()}}))}ReactDOM.render(React.createElement(s,null),document.getElementById("root"))})();