(()=>{"use strict";const e=(e,t)=>fetch(e,t).then((e=>function(e){if(!e.ok)throw e.status;return e}(e))).then((e=>function(e){const t=e.status,n=e.headers.get("content-type");return 200!==t?e.status:200===t&&n&&n.includes("application/json")?e.json():e}(e)));let t,n;"localhost"===window.location.hostname||"192.168."===window.location.hostname.substring(0,8)?(t=window.location.hostname,n=window.location.protocol):(t="movietoro.herokuapp.com",n="https:");const o=new URL(n+"//"+t);function r(e,t,n,r){this.init={body:r,credentials:"include",method:e},this.resource=t,this.url=o,this.url.search=n}function a(e){this.name=e}function c(e){return new a(e)}r.prototype.all=function(){return this.url.pathname=this.resource,e(this.url,this.init)},r.prototype.one=function(t){return this.url.pathname=this.resource+"/"+t,e(this.url,this.init)},a.prototype.delete=function(e){const t=e?new URLSearchParams(e).toString():"";return new r("DELETE",this.name,t)},a.prototype.get=function(e){const t=e?new URLSearchParams(e).toString():"";return new r("GET",this.name,t)},a.prototype.patch=function(e){const t=e?JSON.stringify(e):null;return new r("PATCH",this.name,"",t)},a.prototype.post=function(e){const t=e?JSON.stringify(e):null;return new r("POST",this.name,"",t)},a.prototype.put=function(e){const t=e?JSON.stringify(e):null;return new r("PUT",this.name,"",t)};const l=function(){return React.createElement("nav",null,React.createElement("a",{href:"/"},"Home")," | ",React.createElement("a",{href:"/profile"}," Profile"))};function s(){const[e,t]=React.useState({});React.useEffect((()=>{n()}),[]);const n=()=>{const e=new URLSearchParams(location.search),n=Object.fromEntries(e).id,o={username:localStorage.getItem("username")?localStorage.getItem("username"):""};c("assets").get(o).one(n).then((e=>{console.log("Get asset.",e),t(e)})).catch((e=>{}))},o=e.favorite?React.createElement("div",null,React.createElement("button",{onClick:()=>{(()=>{const t=e.favorite.id,n={username:localStorage.getItem("username")?localStorage.getItem("username"):""};c("favorites").delete(n).one(t).then((e=>{location.assign("/")})).catch((e=>{}))})()},type:"button"},"Remove from Favorites")):null;return React.createElement(React.Fragment,null,React.createElement(l,null),React.createElement("hr",null),React.createElement("section",null,React.createElement("article",null,React.createElement("h2",null,e.name),React.createElement("img",{src:e.preview}),React.createElement("p",null,"0"!==e.year?e.year:null),React.createElement("p",null,e.starring)),o))}ReactDOM.render(React.createElement(s,null),document.getElementById("root"))})();